<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Juhi тЭдя╕П</title>

<style>
body{
  margin:0;
  height:100vh;
  overflow:hidden;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:'Segoe UI',sans-serif;
  background:linear-gradient(135deg,#ff9a9e,#fad0c4);
}

.card{
  background:white;
  padding:40px 30px;
  border-radius:30px;
  text-align:center;
  box-shadow:0 20px 40px rgba(0,0,0,.25);
  max-width:360px;
  z-index:10;
}

h1{color:#ff4d6d;}

p{
  color:#444;
  font-size:17px;
  line-height:1.6;
  min-height:160px;
}

/* Cursor */
.cursor{
  display:inline-block;
  width:10px;
  animation:blink 1s infinite;
}
@keyframes blink{
  0%,50%,100%{opacity:1}
  25%,75%{opacity:0}
}

/* Tamil fade */
.tamil{
  animation:tamilFade 3s ease-in forwards;
}
@keyframes tamilFade{
  from{opacity:0}
  to{opacity:1}
}

button{
  padding:12px 24px;
  border:none;
  border-radius:30px;
  font-size:16px;
  cursor:pointer;
  margin:8px;
}

#next{background:#ff4d6d;color:white;}
#song{background:#ffb3c1;color:white;}
#no{background:#ddd;position:absolute}

/* Hearts */
.heart{
  position:absolute;
  animation:floatUp 6s linear infinite;
  color:rgba(255,77,109,.8);
}
@keyframes floatUp{
  from{transform:translateY(100vh);opacity:0}
  10%{opacity:1}
  to{transform:translateY(-10vh);opacity:0}
}

/* Ring */
.ring{
  font-size:90px;
  animation:ringDrop 1.5s ease-out forwards;
}
@keyframes ringDrop{
  0%{transform:translateY(-300px) scale(.2);opacity:0}
  100%{transform:translateY(0) scale(1);opacity:1}
}

/* Firework */
.firework{
  position:absolute;
  width:6px;
  height:6px;
  border-radius:50%;
  background:white;
  animation:explode 1.2s ease-out forwards;
}
@keyframes explode{
  from{transform:scale(0);opacity:1}
  to{transform:scale(20);opacity:0}
}
</style>
</head>

<body>

<!-- YouTube music -->
<iframe id="bgMusic" width="0" height="0"
src="https://www.youtube.com/embed/2V0mKkS4yJ8?enablejsapi=1"
allow="autoplay"></iframe>

<div class="card">
  <h1>Juhi Sherin . S тЭдя╕П</h1>
  <p id="question"></p>

  <button id="next" onclick="nextStep()">Next ЁЯТХ</button>
  <button id="song" onclick="playSong()">Play our song ЁЯОз</button>
  <button id="no" onmouseover="runAway()">No ЁЯЩИ</button>
</div>

<script>
/* QUESTIONS */
const questions = [
  "Can I ask you something thatтАЩs been on my heart? ЁЯТн",
  "Do you know how special you are to me? тЬи",
  "Some people feel like homeтАж youтАЩre that for me ЁЯПб",
  "роирпА роОройрпН ро╡ро╛ро┤рпНроХрпНроХрпИропро┐ро▓рпН ро╡роирпНрод роиро╛ро│ро┐ро▓ро┐ро░рпБроирпНродрпБ, роОройрпН роЙро▓роХроорпЗ роЕро┤роХро╛ройродрпБ ЁЯТХ",
  "роОройрпН роЗродропродрпН родрпЛроЯрпНроЯродрпНродро┐ро▓рпН рооро▓ро░рпНроирпНрод роТро░рпЗ рокрпВ роирпА родро╛ройрпН тАФ роОройрпН Hibiscus ЁЯМ║",
  "Will you be my Valentine, and my forever? ЁЯТН"
];

let index = 0, charIndex = 0;
const q = document.getElementById("question");

/* TYPE EFFECT */
function typeText(text){
  const tamil = /[роЕ-ро╣]/.test(text);
  q.innerHTML = `<span id="typed" class="${tamil?'tamil':''}"></span><span class="cursor">|</span>`;
  const t = document.getElementById("typed");
  charIndex = 0;
  const typing = setInterval(()=>{
    if(charIndex < text.length){
      t.innerHTML += text.charAt(charIndex++);
    } else clearInterval(typing);
  },40);
}

/* MUSIC + FADE */
let player, volume=0, songStarted=false;

function onYouTubeIframeAPIReady(){
  player = new YT.Player("bgMusic",{events:{
    onReady:()=>player.setVolume(0)
  }});
}

function fadeInVolume(){
  volume=0;
  const f=setInterval(()=>{
    volume+=2;
    if(volume>=40){volume=40;clearInterval(f);}
    player.setVolume(volume);
  },200);
}

function playSong(){
  if(player){
    player.playVideo();
    fadeInVolume();
  }
}

/* NEXT STEP тАФ FORCED UNLOCK */
function nextStep(){
  if(!songStarted && player){
    player.playVideo();
    fadeInVolume();
    songStarted=true;
  }

  if(index < questions.length-1){
    index++;
    typeText(questions[index]);

    if(index === questions.length-1){
      document.getElementById("next").innerText="Yes ЁЯТН";
    }
  } else {
    yesClicked();
  }
}

/* NO BUTTON */
function runAway(){
  const n=document.getElementById("no");
  n.style.left=Math.random()*80+"vw";
  n.style.top=Math.random()*80+"vh";
}

/* HEARTS */
setInterval(()=>{
  const h=document.createElement("div");
  h.className="heart";
  h.innerText="ЁЯМ║ Hibiscus";
  h.style.left=Math.random()*100+"vw";
  h.style.animationDuration=(4+Math.random()*3)+"s";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),7000);
},600);

/* YES */
function firework(x,y){
  const f=document.createElement("div");
  f.className="firework";
  f.style.left=x+"px";
  f.style.top=y+"px";
  document.body.appendChild(f);
  setTimeout(()=>f.remove(),1200);
}

function yesClicked(){
  document.body.innerHTML=`
  <div style="color:white;text-align:center;">
    <div class="ring">ЁЯТН</div>
    <h1>She said YES тЭдя╕П</h1>
    <p style="font-size:20px">
      роОройрпН ро╡ро╛ро┤рпНроХрпНроХрпИропро┐ройрпН роЕро┤роХро╛рой роХро╡ро┐родрпИ роирпА родро╛ройрпН ЁЯМ║<br><br>
      Juhi, I choose you тАФ always.
    </p>
  </div>`;
  setInterval(()=>firework(Math.random()*innerWidth,Math.random()*innerHeight/1.5),300);
}

/* INIT */
typeText(questions[0]);
</script>

<script src="https://www.youtube.com/iframe_api"></script>
</body>
</html>
