<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For Juhi тЭдя╕П</title>

<style>
body{
  margin:0;
  height:100vh;
  overflow:hidden;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:'Segoe UI',sans-serif;
  background:linear-gradient(135deg,#ff9a9e,#fad0c4);
}

.card{
  background:white;
  padding:40px 30px;
  border-radius:30px;
  text-align:center;
  box-shadow:0 20px 40px rgba(0,0,0,.25);
  max-width:360px;
  z-index:10;
}

h1{color:#ff4d6d;}

p{
  color:#444;
  font-size:17px;
  line-height:1.6;
  min-height:170px;
}

/* Blinking cursor */
.cursor{
  display:inline-block;
  width:10px;
  font-weight:bold;
  animation:blink 1s infinite;
}
@keyframes blink{
  0%,50%,100%{opacity:1}
  25%,75%{opacity:0}
}

/* Tamil slow fade */
.tamil{
  animation:tamilFade 2.5s ease-in forwards;
}
@keyframes tamilFade{
  from{opacity:0}
  to{opacity:1}
}

button{
  padding:12px 24px;
  border:none;
  border-radius:30px;
  font-size:16px;
  cursor:pointer;
  margin:8px;
}

#yes{background:#ff4d6d;color:white;}
#song{background:#ffb3c1;color:#fff;}
#no{background:#ddd;position:absolute}

/* Floating hearts */
.heart{
  position:absolute;
  font-size:18px;
  animation:floatUp 6s linear infinite;
  color:rgba(255,77,109,.75);
}

@keyframes floatUp{
  from{transform:translateY(100vh);opacity:0}
  10%{opacity:1}
  to{transform:translateY(-10vh);opacity:0}
}

/* Ring */
.ring{
  font-size:90px;
  animation:ringDrop 1.5s ease-out forwards;
}
@keyframes ringDrop{
  0%{transform:translateY(-300px) scale(.2);opacity:0}
  70%{transform:translateY(30px) scale(1.1);opacity:1}
  100%{transform:translateY(0) scale(1)}
}

/* Fireworks */
.firework{
  position:absolute;
  width:6px;
  height:6px;
  border-radius:50%;
  background:white;
  animation:explode 1.2s ease-out forwards;
}
@keyframes explode{
  from{transform:scale(0);opacity:1}
  to{transform:scale(20);opacity:0}
}
</style>
</head>

<body>

<!-- Tamil Song: Yedhedho Pennae -->
<iframe
  id="bgMusic"
  width="0"
  height="0"
  src="https://www.youtube.com/embed/2V0mKkS4yJ8?enablejsapi=1"
  frameborder="0"
  allow="autoplay">
</iframe>

<div class="card">
  <h1>Juhi Sherin . S тЭдя╕П</h1>

  <p id="question"></p>

  <button id="yes" onclick="nextStep()">Next ЁЯТХ</button>
  <button id="song" onclick="playSong()">Play our song ЁЯОз</button>
  <button id="no" onmouseover="runAway()">No ЁЯЩИ</button>
</div>

<script>
const questions = [
  "Can I ask you something thatтАЩs been on my heart? ЁЯТн",
  "Do you know how special you are to me? тЬи",
  "Have you ever felt that some people just feel like home? ЁЯПб",
  "Did you know you make my days brighter just by being you? тШАя╕П",
  "роирпА роОройрпН ро╡ро╛ро┤рпНроХрпНроХрпИропро┐ро▓рпН ро╡роирпНрод роиро╛ро│ро┐ро▓ро┐ро░рпБроирпНродрпБ, роОройрпН роЙро▓роХроорпЗ роЕро┤роХро╛роХ рооро╛ро▒ро┐ро╡ро┐роЯрпНроЯродрпБ ЁЯТХ",
  "роОройрпН роЗродропродрпН родрпЛроЯрпНроЯродрпНродро┐ро▓рпН рооро▓ро░рпНроирпНрод роТро░рпЗ рокрпВ роирпА родро╛ройрпН тАФ роОройрпН Hibiscus ЁЯМ║",
  "Will you be my Valentine, and my forever? ЁЯТН"
];

let index = 0;
let charIndex = 0;
const speed = 40;
const questionEl = document.getElementById("question");

function typeText(text){
  const isTamil = /[роЕ-ро╣]/.test(text);
  questionEl.innerHTML =
    `<span id="typed" class="${isTamil ? 'tamil' : ''}"></span><span class="cursor">|</span>`;

  const typed = document.getElementById("typed");
  charIndex = 0;

  const typing = setInterval(() => {
    if(charIndex < text.length){
      typed.innerHTML += text.charAt(charIndex);
      charIndex++;
    } else {
      clearInterval(typing);
    }
  }, speed);
}

typeText(questions[index]);

function nextStep(){
  if(index < questions.length - 1){
    index++;
    typeText(questions[index]);

    // ЁЯО╢ Start song EXACTLY at final question
    if(index === questions.length - 1){
      document.getElementById("yes").innerText = "Yes ЁЯТН";
      playSong();
    }
  } else {
    yesClicked();
  }
}

function runAway(){
  const no=document.getElementById("no");
  no.style.top=Math.random()*80+"vh";
  no.style.left=Math.random()*80+"vw";
}

function playSong(){
  const iframe=document.getElementById("bgMusic");
  iframe.src="https://www.youtube.com/embed/2V0mKkS4yJ8?autoplay=1&loop=1&playlist=2V0mKkS4yJ8";
}

/* Floating hearts */
function heart(){
  const h=document.createElement("div");
  h.className="heart";
  h.innerHTML="ЁЯМ║ Hibiscus";
  h.style.left=Math.random()*100+"vw";
  h.style.animationDuration=(4+Math.random()*3)+"s";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),7000);
}
setInterval(heart,500);

/* Fireworks */
function firework(x,y){
  const f=document.createElement("div");
  f.className="firework";
  f.style.left=x+"px";
  f.style.top=y+"px";
  document.body.appendChild(f);
  setTimeout(()=>f.remove(),1200);
}

function yesClicked(){
  document.body.innerHTML=`
  <div style="color:white;text-align:center;">
    <div class="ring">ЁЯТН</div>
    <h1>She said YES тЭдя╕П</h1>
    <p style="font-size:20px;max-width:520px;">
      роирпА роОройрпН ро╡ро╛ро┤рпНроХрпНроХрпИропро┐ро▓рпН ро╡роирпНрод роиро╛ро│ро┐ро▓ро┐ро░рпБроирпНродрпБ,<br>
      роОройрпН роЙро▓роХроорпЗ роЕро┤роХро╛роХ рооро╛ро▒ро┐ро╡ро┐роЯрпНроЯродрпБ ЁЯТХ<br><br>
      роОройрпН роЗродропродрпН родрпЛроЯрпНроЯродрпНродро┐ро▓рпН рооро▓ро░рпНроирпНрод роТро░рпЗ рокрпВ роирпА родро╛ройрпН,<br>
      роОройрпН Hibiscus ЁЯМ║
      <br><br>
      Juhi, I choose you тАФ today and always. ЁЯе╣тЭдя╕П
    </p>
    <p style="font-size:18px;">Forever starts with us тЬи</p>
  </div>`;

  setInterval(()=>{
    firework(Math.random()*window.innerWidth,
             Math.random()*window.innerHeight/1.5);
  },300);
}
</script>

</body>
</html>

